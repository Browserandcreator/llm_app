{"ast":null,"code":"var _jsxFileName = \"D:\\\\llm_app-1\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// App.js - 旅游规划应用的主组件文件\n// 该文件是整个前端应用的核心，负责管理应用状态、处理用户交互和组织UI布局\n\n// 导入React核心库和钩子函数\nimport React, { useState, useEffect } from 'react';\n\n// 导入Material UI主题相关组件\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Box from '@mui/material/Box';\n\n// 导入自定义组件：侧边栏和聊天区域\nimport Sidebar from './components/Sidebar';\nimport ChatArea from './components/ChatArea';\n\n// 导入样式文件\nimport './App.css';\n\n// 导入UUID生成库，用于创建唯一标识符\nimport { v4 as uuidv4 } from 'uuid';\n\n// 创建应用主题，定义颜色方案\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#1976d2' // 主色调：蓝色\n    },\n    background: {\n      default: '#f5f5f5' // 背景色：浅灰色\n    }\n  }\n});\nfunction App() {\n  _s();\n  // 状态管理\n  // conversations: 存储所有对话数据的数组\n  const [conversations, setConversations] = useState([]);\n\n  // currentConversationId: 当前选中的对话ID\n  const [currentConversationId, setCurrentConversationId] = useState(null);\n\n  // isSidebarOpen: 侧边栏是否打开的状态\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n\n  // 副作用钩子：在组件挂载或conversations变化时执行\n  useEffect(() => {\n    // 如果没有对话，则初始化一个新对话\n    if (conversations.length === 0) {\n      const newConversationId = uuidv4(); // 生成唯一ID\n      setConversations([{\n        id: newConversationId,\n        title: '新的旅游规划',\n        // 默认对话标题\n        messages: [] // 初始化空消息数组\n      }]);\n      setCurrentConversationId(newConversationId); // 设置为当前对话\n    }\n  }, [conversations]);\n\n  // 创建新对话的处理函数\n  const handleNewConversation = () => {\n    const newConversationId = uuidv4();\n    setConversations([...conversations, {\n      id: newConversationId,\n      title: '新的旅游规划',\n      messages: []\n    }]);\n    setCurrentConversationId(newConversationId); // 自动切换到新创建的对话\n  };\n\n  // 选择对话的处理函数\n  const handleSelectConversation = id => {\n    setCurrentConversationId(id);\n  };\n\n  // 删除对话的处理函数\n  const handleDeleteConversation = id => {\n    // 过滤掉要删除的对话\n    const updatedConversations = conversations.filter(conv => conv.id !== id);\n    setConversations(updatedConversations);\n\n    // 如果删除的是当前对话，则自动选择第一个对话或创建新对话\n    if (currentConversationId === id && updatedConversations.length > 0) {\n      setCurrentConversationId(updatedConversations[0].id);\n    } else if (updatedConversations.length === 0) {\n      handleNewConversation(); // 如果删除后没有对话，则创建一个新对话\n    }\n  };\n\n  // 发送消息的处理函数（异步）\n  const handleSendMessage = async message => {\n    // 验证消息不为空\n    if (!message.trim()) return;\n\n    // 查找当前对话\n    const currentConversation = conversations.find(conv => conv.id === currentConversationId);\n    if (!currentConversation) return;\n\n    // 创建用户消息对象\n    const userMessage = {\n      id: uuidv4(),\n      content: message,\n      sender: 'user',\n      // 标记为用户发送\n      timestamp: new Date().toISOString() // 记录发送时间\n    };\n\n    // 更新对话标题（如果是第一条消息）\n    let updatedTitle = currentConversation.title;\n    if (currentConversation.messages.length === 0) {\n      // 截取消息前20个字符作为标题，过长则添加省略号\n      updatedTitle = message.length > 20 ? `${message.substring(0, 20)}...` : message;\n    }\n\n    // 更新对话列表，添加用户消息\n    const updatedConversations = conversations.map(conv => {\n      if (conv.id === currentConversationId) {\n        return {\n          ...conv,\n          title: updatedTitle,\n          messages: [...conv.messages, userMessage]\n        };\n      }\n      return conv;\n    });\n    setConversations(updatedConversations);\n    try {\n      // 创建并显示\"加载中\"消息\n      const loadingMessageId = uuidv4();\n      const loadingMessage = {\n        id: loadingMessageId,\n        content: '正在生成旅游规划...',\n        sender: 'assistant',\n        // 标记为助手发送\n        isLoading: true,\n        // 标记为加载状态\n        timestamp: new Date().toISOString()\n      };\n\n      // 将加载消息添加到当前对话\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: [...conv.messages, loadingMessage]\n            };\n          }\n          return conv;\n        });\n      });\n\n      // 调用后端API获取回复\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message,\n          // 当前消息\n          conversationId: currentConversationId,\n          // 对话ID\n          messages: updatedConversations.find(conv => conv.id === currentConversationId).messages // 对话历史\n        })\n      });\n\n      // 检查响应状态\n      if (!response.ok) {\n        throw new Error('网络请求失败');\n      }\n\n      // 解析响应数据\n      const data = await response.json();\n\n      // 创建助手回复消息，替换加载中消息\n      const assistantMessage = {\n        id: uuidv4(),\n        content: data.reply,\n        // 使用API返回的回复内容\n        sender: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n\n      // 更新对话，将加载消息替换为实际回复\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: conv.messages.map(msg => msg.id === loadingMessageId ? assistantMessage : msg)\n            };\n          }\n          return conv;\n        });\n      });\n    } catch (error) {\n      // 错误处理\n      console.error('Error sending message:', error);\n\n      // 将加载消息更新为错误消息\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: conv.messages.map(msg => {\n                if (msg.isLoading) {\n                  return {\n                    ...msg,\n                    content: '抱歉，生成旅游规划时出现错误。请稍后再试。',\n                    isLoading: false,\n                    isError: true // 标记为错误状态\n                  };\n                }\n                return msg;\n              })\n            };\n          }\n          return conv;\n        });\n      });\n    }\n  };\n\n  // 切换侧边栏显示/隐藏的函数\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  // 获取当前对话，如果不存在则提供默认值\n  const currentConversation = conversations.find(conv => conv.id === currentConversationId) || {\n    messages: []\n  };\n\n  // 渲染应用界面\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Box, {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        conversations: conversations // 所有对话\n        ,\n        currentConversationId: currentConversationId // 当前对话ID\n        ,\n        onNewConversation: handleNewConversation // 新建对话处理函数\n        ,\n        onSelectConversation: handleSelectConversation // 选择对话处理函数\n        ,\n        onDeleteConversation: handleDeleteConversation // 删除对话处理函数\n        ,\n        isOpen: isSidebarOpen // 侧边栏开关状态\n        ,\n        toggleSidebar: toggleSidebar // 切换侧边栏函数\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatArea, {\n        messages: currentConversation.messages // 当前对话的消息列表\n        ,\n        onSendMessage: handleSendMessage // 发送消息处理函数\n        ,\n        isSidebarOpen: isSidebarOpen // 侧边栏状态（用于响应式布局）\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n}\n\n// 导出App组件\n_s(App, \"7wjKkkYjwMFpXxk4xlzH+wHWgak=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ThemeProvider","createTheme","CssBaseline","Box","Sidebar","ChatArea","v4","uuidv4","jsxDEV","_jsxDEV","theme","palette","primary","main","background","default","App","_s","conversations","setConversations","currentConversationId","setCurrentConversationId","isSidebarOpen","setIsSidebarOpen","length","newConversationId","id","title","messages","handleNewConversation","handleSelectConversation","handleDeleteConversation","updatedConversations","filter","conv","handleSendMessage","message","trim","currentConversation","find","userMessage","content","sender","timestamp","Date","toISOString","updatedTitle","substring","map","loadingMessageId","loadingMessage","isLoading","prevConversations","response","fetch","method","headers","body","JSON","stringify","conversationId","ok","Error","data","json","assistantMessage","reply","msg","error","console","isError","toggleSidebar","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onNewConversation","onSelectConversation","onDeleteConversation","isOpen","onSendMessage","_c","$RefreshReg$"],"sources":["D:/llm_app-1/frontend/src/App.js"],"sourcesContent":["// App.js - 旅游规划应用的主组件文件\n// 该文件是整个前端应用的核心，负责管理应用状态、处理用户交互和组织UI布局\n\n// 导入React核心库和钩子函数\nimport React, { useState, useEffect } from 'react'; \n\n// 导入Material UI主题相关组件\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport Box from '@mui/material/Box';\n\n// 导入自定义组件：侧边栏和聊天区域\nimport Sidebar from './components/Sidebar';\nimport ChatArea from './components/ChatArea';\n\n// 导入样式文件\nimport './App.css';\n\n// 导入UUID生成库，用于创建唯一标识符\nimport { v4 as uuidv4 } from 'uuid';\n\n// 创建应用主题，定义颜色方案\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#1976d2', // 主色调：蓝色\n    },\n    background: {\n      default: '#f5f5f5', // 背景色：浅灰色\n    },\n  },\n});\n\nfunction App() {\n  // 状态管理\n  // conversations: 存储所有对话数据的数组\n  const [conversations, setConversations] = useState([]);\n  \n  // currentConversationId: 当前选中的对话ID\n  const [currentConversationId, setCurrentConversationId] = useState(null);\n  \n  // isSidebarOpen: 侧边栏是否打开的状态\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n\n  // 副作用钩子：在组件挂载或conversations变化时执行\n  useEffect(() => {\n    // 如果没有对话，则初始化一个新对话\n    if (conversations.length === 0) {\n      const newConversationId = uuidv4(); // 生成唯一ID\n      setConversations([{\n        id: newConversationId,\n        title: '新的旅游规划', // 默认对话标题\n        messages: [] // 初始化空消息数组\n      }]);\n      setCurrentConversationId(newConversationId); // 设置为当前对话\n    }\n  }, [conversations]);\n\n  // 创建新对话的处理函数\n  const handleNewConversation = () => {\n    const newConversationId = uuidv4();\n    setConversations([...conversations, {\n      id: newConversationId,\n      title: '新的旅游规划',\n      messages: []\n    }]);\n    setCurrentConversationId(newConversationId); // 自动切换到新创建的对话\n  };\n\n  // 选择对话的处理函数\n  const handleSelectConversation = (id) => {\n    setCurrentConversationId(id);\n  };\n\n  // 删除对话的处理函数\n  const handleDeleteConversation = (id) => {\n    // 过滤掉要删除的对话\n    const updatedConversations = conversations.filter(conv => conv.id !== id);\n    setConversations(updatedConversations);\n    \n    // 如果删除的是当前对话，则自动选择第一个对话或创建新对话\n    if (currentConversationId === id && updatedConversations.length > 0) {\n      setCurrentConversationId(updatedConversations[0].id);\n    } else if (updatedConversations.length === 0) {\n      handleNewConversation(); // 如果删除后没有对话，则创建一个新对话\n    }\n  };\n\n  // 发送消息的处理函数（异步）\n  const handleSendMessage = async (message) => {\n    // 验证消息不为空\n    if (!message.trim()) return;\n\n    // 查找当前对话\n    const currentConversation = conversations.find(conv => conv.id === currentConversationId);\n    if (!currentConversation) return;\n\n    // 创建用户消息对象\n    const userMessage = {\n      id: uuidv4(),\n      content: message,\n      sender: 'user', // 标记为用户发送\n      timestamp: new Date().toISOString() // 记录发送时间\n    };\n\n    // 更新对话标题（如果是第一条消息）\n    let updatedTitle = currentConversation.title;\n    if (currentConversation.messages.length === 0) {\n      // 截取消息前20个字符作为标题，过长则添加省略号\n      updatedTitle = message.length > 20 ? `${message.substring(0, 20)}...` : message;\n    }\n\n    // 更新对话列表，添加用户消息\n    const updatedConversations = conversations.map(conv => {\n      if (conv.id === currentConversationId) {\n        return {\n          ...conv,\n          title: updatedTitle,\n          messages: [...conv.messages, userMessage]\n        };\n      }\n      return conv;\n    });\n\n    setConversations(updatedConversations);\n\n    try {\n      // 创建并显示\"加载中\"消息\n      const loadingMessageId = uuidv4();\n      const loadingMessage = {\n        id: loadingMessageId,\n        content: '正在生成旅游规划...',\n        sender: 'assistant', // 标记为助手发送\n        isLoading: true, // 标记为加载状态\n        timestamp: new Date().toISOString()\n      };\n\n      // 将加载消息添加到当前对话\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: [...conv.messages, loadingMessage]\n            };\n          }\n          return conv;\n        });\n      });\n\n      // 调用后端API获取回复\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message, // 当前消息\n          conversationId: currentConversationId, // 对话ID\n          messages: updatedConversations.find(conv => conv.id === currentConversationId).messages // 对话历史\n        }),\n      });\n\n      // 检查响应状态\n      if (!response.ok) {\n        throw new Error('网络请求失败');\n      }\n\n      // 解析响应数据\n      const data = await response.json();\n\n      // 创建助手回复消息，替换加载中消息\n      const assistantMessage = {\n        id: uuidv4(),\n        content: data.reply, // 使用API返回的回复内容\n        sender: 'assistant',\n        timestamp: new Date().toISOString()\n      };\n\n      // 更新对话，将加载消息替换为实际回复\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: conv.messages.map(msg => \n                msg.id === loadingMessageId ? assistantMessage : msg\n              )\n            };\n          }\n          return conv;\n        });\n      });\n    } catch (error) {\n      // 错误处理\n      console.error('Error sending message:', error);\n      \n      // 将加载消息更新为错误消息\n      setConversations(prevConversations => {\n        return prevConversations.map(conv => {\n          if (conv.id === currentConversationId) {\n            return {\n              ...conv,\n              messages: conv.messages.map(msg => {\n                if (msg.isLoading) {\n                  return {\n                    ...msg,\n                    content: '抱歉，生成旅游规划时出现错误。请稍后再试。',\n                    isLoading: false,\n                    isError: true // 标记为错误状态\n                  };\n                }\n                return msg;\n              })\n            };\n          }\n          return conv;\n        });\n      });\n    }\n  };\n\n  // 切换侧边栏显示/隐藏的函数\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  // 获取当前对话，如果不存在则提供默认值\n  const currentConversation = conversations.find(conv => conv.id === currentConversationId) || { messages: [] };\n\n  // 渲染应用界面\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline /> {/* 重置CSS基础样式 */}\n      <Box className=\"app-container\">\n        {/* 侧边栏组件 */}\n        <Sidebar \n          conversations={conversations} // 所有对话\n          currentConversationId={currentConversationId} // 当前对话ID\n          onNewConversation={handleNewConversation} // 新建对话处理函数\n          onSelectConversation={handleSelectConversation} // 选择对话处理函数\n          onDeleteConversation={handleDeleteConversation} // 删除对话处理函数\n          isOpen={isSidebarOpen} // 侧边栏开关状态\n          toggleSidebar={toggleSidebar} // 切换侧边栏函数\n        />\n        {/* 聊天区域组件 */}\n        <ChatArea \n          messages={currentConversation.messages} // 当前对话的消息列表\n          onSendMessage={handleSendMessage} // 发送消息处理函数\n          isSidebarOpen={isSidebarOpen} // 侧边栏状态（用于响应式布局）\n        />\n      </Box>\n    </ThemeProvider>\n  );\n}\n\n// 导出App组件\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}