{"ast":null,"code":"var _jsxFileName = \"D:\\\\llm_app-1\\\\frontend\\\\src\\\\components\\\\UserProfile.js\",\n  _s = $RefreshSig$();\n/**\n * 用户信息显示组件\n * 显示用户头像、用户名和登出功能\n */\n\nimport React, { useState } from 'react';\nimport './UserProfile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfile = ({\n  user,\n  onLogout,\n  onViewPreferences\n}) => {\n  _s();\n  const [showDropdown, setShowDropdown] = useState(false);\n  const handleLogout = () => {\n    // 清除本地存储的认证信息\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n\n    // 调用父组件的登出回调\n    onLogout();\n\n    // 关闭下拉菜单\n    setShowDropdown(false);\n  };\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n  const handleViewPreferences = () => {\n    onViewPreferences();\n    setShowDropdown(false);\n  };\n\n  // 生成用户头像（使用用户名首字母）\n  const getAvatarText = username => {\n    return username ? username.charAt(0).toUpperCase() : 'U';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      onClick: toggleDropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-avatar\",\n        children: getAvatarText(user.username)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"username\",\n        children: user.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: `dropdown-arrow ${showDropdown ? 'open' : ''}`,\n        width: \"12\",\n        height: \"12\",\n        viewBox: \"0 0 12 12\",\n        fill: \"none\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M3 4.5L6 7.5L9 4.5\",\n          stroke: \"currentColor\",\n          strokeWidth: \"1.5\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar large\",\n          children: getAvatarText(user.username)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"username\",\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"email\",\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-divider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropdown-item\",\n          onClick: handleViewPreferences,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 16 16\",\n            fill: \"none\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M8 1V3M8 13V15M3.05 3.05L4.46 4.46M11.54 11.54L12.95 12.95M1 8H3M13 8H15M3.05 12.95L4.46 11.54M11.54 4.46L12.95 3.05\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.5\",\n              strokeLinecap: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), \"\\u6211\\u7684\\u504F\\u597D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dropdown-item logout\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 16 16\",\n            fill: \"none\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M6 15H3C2.46957 15 1.96086 14.7893 1.58579 14.4142C1.21071 14.0391 1 13.5304 1 13V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H6M11 11L15 7L11 3M15 7H6\",\n              stroke: \"currentColor\",\n              strokeWidth: \"1.5\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), \"\\u9000\\u51FA\\u767B\\u5F55\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dropdown-overlay\",\n      onClick: () => setShowDropdown(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfile, \"/Fk0mfoaTkcfqmlHhjzD5FM1xJk=\");\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","UserProfile","user","onLogout","onViewPreferences","_s","showDropdown","setShowDropdown","handleLogout","localStorage","removeItem","toggleDropdown","handleViewPreferences","getAvatarText","username","charAt","toUpperCase","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","width","height","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","email","_c","$RefreshReg$"],"sources":["D:/llm_app-1/frontend/src/components/UserProfile.js"],"sourcesContent":["/**\n * 用户信息显示组件\n * 显示用户头像、用户名和登出功能\n */\n\nimport React, { useState } from 'react';\nimport './UserProfile.css';\n\nconst UserProfile = ({ user, onLogout, onViewPreferences }) => {\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  const handleLogout = () => {\n    // 清除本地存储的认证信息\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('user');\n    \n    // 调用父组件的登出回调\n    onLogout();\n    \n    // 关闭下拉菜单\n    setShowDropdown(false);\n  };\n\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  const handleViewPreferences = () => {\n    onViewPreferences();\n    setShowDropdown(false);\n  };\n\n  // 生成用户头像（使用用户名首字母）\n  const getAvatarText = (username) => {\n    return username ? username.charAt(0).toUpperCase() : 'U';\n  };\n\n  return (\n    <div className=\"user-profile\">\n      <div className=\"user-info\" onClick={toggleDropdown}>\n        <div className=\"user-avatar\">\n          {getAvatarText(user.username)}\n        </div>\n        <span className=\"username\">{user.username}</span>\n        <svg \n          className={`dropdown-arrow ${showDropdown ? 'open' : ''}`}\n          width=\"12\" \n          height=\"12\" \n          viewBox=\"0 0 12 12\" \n          fill=\"none\"\n        >\n          <path \n            d=\"M3 4.5L6 7.5L9 4.5\" \n            stroke=\"currentColor\" \n            strokeWidth=\"1.5\" \n            strokeLinecap=\"round\" \n            strokeLinejoin=\"round\"\n          />\n        </svg>\n      </div>\n      \n      {showDropdown && (\n        <div className=\"user-dropdown\">\n          <div className=\"dropdown-header\">\n            <div className=\"user-avatar large\">\n              {getAvatarText(user.username)}\n            </div>\n            <div className=\"user-details\">\n              <div className=\"username\">{user.username}</div>\n              <div className=\"email\">{user.email}</div>\n            </div>\n          </div>\n          \n          <div className=\"dropdown-divider\"></div>\n          \n          <div className=\"dropdown-menu\">\n            <button \n              className=\"dropdown-item\"\n              onClick={handleViewPreferences}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                <path \n                  d=\"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z\" \n                  stroke=\"currentColor\" \n                  strokeWidth=\"1.5\"\n                />\n                <path \n                  d=\"M8 1V3M8 13V15M3.05 3.05L4.46 4.46M11.54 11.54L12.95 12.95M1 8H3M13 8H15M3.05 12.95L4.46 11.54M11.54 4.46L12.95 3.05\" \n                  stroke=\"currentColor\" \n                  strokeWidth=\"1.5\" \n                  strokeLinecap=\"round\"\n                />\n              </svg>\n              我的偏好\n            </button>\n            \n            <button \n              className=\"dropdown-item logout\"\n              onClick={handleLogout}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n                <path \n                  d=\"M6 15H3C2.46957 15 1.96086 14.7893 1.58579 14.4142C1.21071 14.0391 1 13.5304 1 13V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H6M11 11L15 7L11 3M15 7H6\" \n                  stroke=\"currentColor\" \n                  strokeWidth=\"1.5\" \n                  strokeLinecap=\"round\" \n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n              退出登录\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* 点击外部关闭下拉菜单 */}\n      {showDropdown && (\n        <div \n          className=\"dropdown-overlay\" \n          onClick={() => setShowDropdown(false)}\n        ></div>\n      )}\n    </div>\n  );\n};\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}